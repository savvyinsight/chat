# Chat (Go + React)\n\nA minimal self-hosted real-time chat example: Go backend (REST + WebSocket) and a React + TypeScript frontend (Vite + Tailwind).\n\n## What this project provides\n- Real-time messaging via WebSocket endpoint: `/ws`\n- REST APIs: `/user/login`, `/userList`, and other user APIs\n- Frontend scaffold: Vite + React + TypeScript + Tailwind (in `frontend/`)\n\n## Quick start (development)\nPrerequisites: Go (>=1.20), Node.js and npm\n\n1. Start the backend\n\n```bash\ncd server\n# run the API + WebSocket server\ngo run main.go\n```\n\nThe backend listens on port `8080` by default.\n\n2. Start the frontend (dev server with proxy)\n\n```bash\ncd frontend\nnpm install\nnpm run dev\n```\n\nOpen http://localhost:5173/ in your browser. The Vite dev server proxies `/user` and `/ws` to the backend if configured in `frontend/vite.config.ts`.\n\n## Notes on auth and WebSocket\n- Login endpoint: `POST /user/login` (body: `{ identifier, password }`). Response currently returns `user_id` (or `token` when JWT middleware is enabled).\n- Dev frontend attaches either `?user_id=<id>` or `?token=<jwt>` to the `/ws` URL when opening the WebSocket.\n\n## Production build and serving\nTo produce a static build of the frontend:\n\n```bash\ncd frontend\nnpm run build\n# `dist/` will contain the static assets\n```
\nYou can serve `dist/` with any static file server. A recommended option is to embed the built assets into the Go server (using `embed`) and serve them from `/` so frontend and API are same-origin. If you want, I can add an automated `Makefile` or a Go handler to serve the built assets.\n\n## Project structure (high level)\n- `server/` — Go backend (routers, ws hub, handlers, services)\n- `frontend/` — Vite + React frontend (Login, Chat, WS helper)\n- `web/` — small demo pages (legacy)\n\n## Next recommended improvements\n- Persist login token and attach to REST headers + WS query param\n- Load chat history via REST when opening a conversation\n- Robust WS reconnection with exponential backoff and dedup/ack handling\n- File upload support (REST) + attachments in messages\n- Serve production frontend from the Go server (embed) and add CI build step\n\n## Contributing\nPRs welcome. Run tests and linters before submitting changes.\n\n---\nGenerated README — let me know if you want a commit and remote push.\n